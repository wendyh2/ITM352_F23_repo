<!--
    
    Author: Wendy Huang, Scott Garland, Gellie Cabuyadao
    Date: 16 December 2023
    Description: Admin Login Page. This page is designed for admin users to log in to the system. It includes form validation and displays the number of active users. The page uses external stylesheets and fonts for styling, as well as Javascript for dynamic content and form handling.
    Additional information: Copied from Assignment 1/2, Referenced and assisted by ChatGPT

-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./getLoggedInUsers.js" type="text/javascript"></script>
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari&family=Palanquin+Dark:wght@500&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Palanquin+Dark:wght@500&display=swap" rel="stylesheet">
    <title>Admin Login Page</title>

    <script>
        // Print number of logged in users
        const numActiveUsers = numLoggedInUsers;
    </script>
</head>

<body>
    <!--Making my logo and Nav bar for homepage-->
    <header>
        <a href="index.html"><img src="img/logo.png" class="logo" alt="my logo"></a>
        <!--This is where my logo goes in my header-->
        <div class="navmenu">
            <a href="home.html">Home</a>
            <a href="products_display.html">Shop</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <div class="cart-icon">
                <a href="cart.html"><i class="fa-solid fa-bag-shopping"></i></a>
            </div>
        </div>
    </header>

    <section class="login-form-section">
        <h2 class="text-spacing">
            <script>
                document.write("Number of active users: ", numActiveUsers);
            </script>
        </h2>
        <!-- Admin Login Form -->
        <form id="admin-login-form" action="./admin/login" method="POST">
            <h2>Admin Login</h2>
            <!-- Create input field for username -->
            <label for="username">Email Address: </label> <br />
            <input type="text" id="username" name="username" />
            <br />
            <!-- Error message for incorrect email -->
            <span class="error-message" id="username-error-span"></span>
            <br />

            <!-- Create input field for password -->
            <label for="password">Password:</label>
            <input type="password" id="password" name="password">
            <!-- Icon to toggle viewability of password -->
            <i class="far fa-eye eye-icon" id="view-password"></i>
            <br />
            <!-- Error message for incorrect password -->
            <span class="error-message" id="password-error-span"></span>
            <br />

            <input type="submit" id="login" value="Login">
        </form>

        <!-- Link for User Login -->
        <div class="user-login-link">
            <a href="login.html">User Login</a>
        </div>
    </section>

    <script>
        // Password visibility toggle script
        const passwordVisibility = document.getElementById('view-password');
        const password = document.getElementById('password');
        passwordVisibility.addEventListener('click', function (e) {
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            this.classList.toggle('fa-eye-slash');
        });

        // Function to handle form submission
        function submitForm() {
            alert("Admin logged in successfully!");
        }

        window.onload = function () {
            // Handle error messages and input values here if needed
        }
    </script>
</body>
</html>
